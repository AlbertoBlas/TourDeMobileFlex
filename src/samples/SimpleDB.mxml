<?xml version="1.0" encoding="utf-8"?>
<s:VGroup xmlns:fx="http://ns.adobe.com/mxml/2009" 
		 xmlns:s="library://ns.adobe.com/flex/spark">

	<fx:Script>
		import mx.collections.ArrayCollection;
		public var sqlConnection:SQLConnection;

		public function getAllGiberish():void
		{
			var stmt:SQLStatement = new SQLStatement();
			stmt.sqlConnection = sqlConnection;
			stmt.text = "SELECT label FROM giberish";
			stmt.execute();
			l.dataProvider = new ArrayCollection(stmt.getResult().data);
		}
	</fx:Script>
	
	<s:creationComplete>
		sqlConnection = new SQLConnection();
		sqlConnection.open(File.applicationStorageDirectory.resolvePath("giberish.db"));
		var stmt:SQLStatement = new SQLStatement();
		stmt.sqlConnection = sqlConnection;
		stmt.text = "CREATE TABLE IF NOT EXISTS giberish (label TEXT)";
		stmt.execute();
		getAllGiberish();
	</s:creationComplete>
		
	<s:Form width="100%">
		<s:FormItem label="Giberish" skinClass="spark.skins.spark.StackedFormItemSkin">
			<s:TextInput id="g"/>
		</s:FormItem>
		<s:Button label="Add Giberish" enabled="{g.text.length != 0}">
			<s:click>
				var stmt:SQLStatement = new SQLStatement();
				stmt.sqlConnection = sqlConnection;
				stmt.text = "INSERT into giberish values(:giberish)";
				stmt.parameters[":giberish"] = g.text;
				stmt.execute();
				getAllGiberish();
				g.text = "";
			</s:click>
		</s:Button>
	</s:Form>

	<s:List id="l" width="100%" height="100%"/>
	
</s:VGroup>